<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>seajs-preload</title>
    <script src="http://caopeiran.github.com/debug/seajs-debug/assets/js/lib/seajs/seajs/2.1.0/sea.js" charset="utf-8" id="seajsnode"></script>
</head>
<body>
    <p id="p1"></p>
    <p id="p2"></p>
    <p id="p3"></p>
    <div id="module"></div>
    <script>
        seajs.config({
            alias: {
                '$': 'gallery/jquery/1.8.2/jquery',
                'jquery': 'gallery/jquery/1.8.2/jquery'
            },
            paths: {
                'app': 'http://caopeiran.github.com/debug/seajs-debug/assets/js/app'
            },
            vars: {
              'locale': 'zh-cn'
            },
            preload: ['seajs/seajs-text/1.0.0/seajs-text', 'seajs/seajs-style/1.0.0/seajs-style', 'seajs/seajs-log/1.0.0/seajs-log']
            
        });
        
        document.getElementById('p1').innerHTML = 'seajs.log :' + (seajs && seajs.log);
        document.getElementById('p2').innerHTML = 'seajs.text :' + (seajs && seajs.text);
        document.getElementById('p3').innerHTML = 'seajs.style :' + (seajs && seajs.style);
        
        seajs.use(['jquery', 'app/foo/1.0.1/foo'], function($) {
            $('#module').append('<p>seajs.log :' + (seajs && seajs.log) + '</p>');
            $('#module').append('<p>seajs.text :' + (seajs && seajs.text) + '</p>');
            $('#module').append('<p>seajs.style :' + (seajs && seajs.style) + '</p>');
        });
    </script>
</body>
</html>